<html ng-app="MarmolistasElPilarApp">
<head>
    <title>
        Marmolistas El Pilar - Proveedores
    </title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="/bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <link href="/css/materialize.css" rel="stylesheet" type="text/css"/>
    <link href="/css/styles.css" rel="stylesheet"/>
    <script src="/bower_components/angular/angular.min.js" type="text/javascript"></script>
    <script src="/bower_components/angular-route/angular-route.min.js" type="text/javascript"></script>
    <script src="/materialize/js/bin/materialize.js" type="text/javascript"></script>
    <script src="/js/app.js" type="text/javascript"></script>
    <script src="/js/providers-view-controller.js" type="text/javascript"></script>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
</head>
<body ng-controller="ProvidersViewCtrl">
<div class="navbar-fixed">
    <nav>
        <div class="nav-wrapper">
            <a href="#" class="brand-logo"><img class="logo" src="/img/logo.png"></a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li><a href="/">Inicio</a></li>
                <li><a href="/articulos">Artículos</a></li>
                <li><a href="/grupos">Grupos</a></li>
                <li><a href="/clientes">Clientes</a></li>
                <li class="active"><a href="/proveedores">Proveedores</a></li>
                <li><a href="/almacen">Almacén</a></li>
                <li><a href="/materiales">Materiales</a></li>
                <li><a href="/anomalias">Anomalías</a></li>
            </ul>
        </div>
    </nav>
</div>

<ul class="sidenav" id="mobile-demo">
    <li><a href="/">Inicio</a></li>
    <li><a href="/articulos">Artículos</a></li>
    <li><a href="/grupos">Grupos</a></li>
    <li><a href="/clientes">Clientes</a></li>
    <li class="active"><a href="/proveedores">Proveedores</a></li>
    <li><a href="/almacen">Almacén</a></li>
    <li><a href="/materiales">Materiales</a></li>
    <li><a href="/anomalias">Anomalías</a></li>
</ul>
<div class="row">
    <div class="col s12">
        <div class="card">
            <div class="card-content">
                <span class="card-title"><h5 class="center">Facturas y albaranes</h5></span>
                <div class="input-field col s2">
                    <select ng-model="providerStatus" id="providerStatus">
                        <option value="0" selected>Todas</option>
                        <option value="1">Facturas</option>
                        <option value="2">Albaranes</option>
                    </select>
                    <label>Filtrar facturas y albaranes</label>
                </div>
            </div>
            <div class="card-content">
                <div class="row">
                    <table class="highlight responsive-table">
                        <thead>
                        <tr>
                            <th>Factura/Albarán</th>
                            <th>Fecha</th>
                            <th>Número albarán / factura</th>
                            <th>Importe</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="input-field">
                                <select ng-model="newBill.tipo" id="tipo">
                                    <option value="0">Albaranes</option>
                                    <option value="1">Facturas</option>
                                </select><label>Selecciona un tipo</label>
                            </td>
                            <td class="input-field"><input id="fecha" ng-model="newBill.fecha" type="text"
                                                           class="datepicker validate" placeholder="Fecha"></td>
                            <td class="input-field"><input id="numero" ng-model="newBill.numero" type="number"
                                                           class="validate" placeholder="Numero"></td>
                            <td class="input-field"><input id="importe" ng-model="newBill.importe" type="number"
                                                           class="validate" placeholder="Importe"></td>

                            <td><a href="#!"><i class="small material-icons green-text"
                                                ng-click="saveBill()"
                                                onclick="event.stopPropagation();">add_box</i>
                            </a></td>
                        </tr><!-- en sginular bill mejor-->
                        <tr ng-repeat="bill in provider.bills track by $index">
                            <td>{{bill.tipo === 0 ? 'Albarán' : 'Factura'}}</td>
                            <td>{{bill.fecha}}</td>
                            <td>{{bill.numero}}</td>
                            <td>{{bill.importe}}</td>
                            <td><a href="#!">
                                <i ng-if="!provider.factura" class="material-icons green-text"
                                   ng-click="providerDone($index)"
                                   onclick="event.stopPropagation();">done</i>
                                <i class="material-icons orange-text"
                                   ng-click="editBill(bill)"
                                   onclick="event.stopPropagation();">edit</i>
                                <i class="material-icons blue-text"
                                   ng-click="generateWord(provider)"
                                   onclick="event.stopPropagation();">assignment</i>
                            </a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    $(document).ready(function () {
        $('.sidenav').sidenav();
        $('#tipo').find('option[value="0"]').prop('selected', true);
        $('select').formSelect();
        $('.datepicker').datepicker({
            firstDay: 1,
            format: 'dd/mm/yyyy',
            i18n: {
                months: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
                monthsShort: ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Set", "Oct", "Nov", "Dic"],
                weekdays: ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"],
                weekdaysShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
                weekdaysAbbrev: ["D", "L", "M", "M", "J", "V", "S"]
            }
        });
        $('.timepicker').timepicker({
            twelveHour: false
        });
    });
</script>
</html>
