<html ng-app="MarmolistasElPilarApp">
<head>
    <title>
        Marmolistas El Pilar - Cheques y Pagarés
    </title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="/bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <link href="/css/materialize.css" rel="stylesheet" type="text/css"/>
    <link href="/css/styles.css" rel="stylesheet"/>
    <script src="/bower_components/angular/angular.min.js" type="text/javascript"></script>
    <script src="/bower_components/angular-route/angular-route.min.js" type="text/javascript"></script>
    <script src="/materialize/js/bin/materialize.js" type="text/javascript"></script>
    <script src="/js/app.js" type="text/javascript"></script>
    <script src="/js/checks-controller.js" type="text/javascript"></script>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
</head>
<body ng-controller="ChecksCtrl">
<div class="navbar-fixed">
    <nav>
        <div class="nav-wrapper">
            <a href="#" class="brand-logo"><img class="logo" src="img/logo.png"></a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li><a href="/">Inicio</a></li>
                <li><a href="/articulos">Artículos</a></li>
                <li><a href="/grupos">Grupos</a></li>
                <li><a href="/clientes">Clientes</a></li>
                <li><a href="/proveedores">Proveedores</a></li>
                <li class="active"><a href="/cheques">Cheques y Pagarés</a></li>
            </ul>
        </div>
    </nav>
</div>

<ul class="sidenav" id="mobile-demo">
    <li><a href="/">Inicio</a></li>
    <li><a href="/articulos">Artículos</a></li>
    <li><a href="/grupos">Grupos</a></li>
    <li><a href="/clientes">Clientes</a></li>
    <li><a href="/proveedores">Proveedores</a></li>
    <li class="active"><a href="/cheques">Cheques y Pagarés</a></li>
</ul>
<div class="row">
    <div class="col s6">
        <div class="card">
            <div class="card-content">
                <span class="card-title"><h5>{{action}} Cheques</h5></span>
            </div>
            <div class="card-content">
                <div class="row">
                    <form name="addCheckForm" id="addCheckForm" class="col s12" ng-submit="saveCheck()">
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="codigo" ng-model="newCheck.codigo" type="text" class="validate"
                                       placeholder="0" disabled>
                                <label for="codigo">Código</label>
                            </div>
                            <div class="input-field col s6">
                                <select ng-model="newCheck.tipo" id="tipo" ng-change="test()">
                                    <option value="0" selected>Cheque</option>
                                    <option value="1">Pagarés</option>
                                </select>
                                <label>Cheque/Pagarés</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="importe" ng-model="newCheck.importe" type="number" class="validate"
                                       placeholder="100">
                                <label for="importe">Importe</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="nombre" ng-model="newCheck.nombre" type="text" class="validate"
                                       placeholder="Unicaja">
                                <label for="nombre">Nombre</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="fecha" type="text" class="datepicker" value="01/01/2018"
                                       ng-model="newCheck.fecha">
                                <label for="fecha">Fecha</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="numeracion" ng-model="newCheck.numeracion" type="text" class="validate"
                                placeholder="1A28DBF10">
                                <label for="numeracion">Numeración</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="fecha_vencimiento" type="text" class="datepicker" value="01/01/2018"
                                       ng-model="newCheck.fecha_vencimiento">
                                <label for="fecha_vencimiento">Fecha Vencimiento</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="reusado" ng-model="newCheck.reusado" type="text" class="validate"
                                       placeholder="Si">
                                <label for="reusado">¿Usado para pagar?</label>
                            </div>
                        </div>
                        <div class="center">
                            <button ng-class="class_button" type="submit" name="action">
                                {{action}}
                                <i class="material-icons right">{{icon_action}}</i>
                            </button>
                            <a class="btn-large waves-effect waves-light blue" ng-click="refresh()">
                                REFRESCAR
                                <i class="material-icons right">refresh</i>
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="col s6">
        <div class="col s12">
            <div class="card">
                <div class="card-content">
                    <span class="card-title"><h5>Filtrar Cheques</h5></span>
                    <div class="row">
                        <div class="col s6">
                            <div class="input-field">
                                <i class="material-icons prefix">filter_1</i>
                                <input id="search_code" type="number" class="validate" ng-model="filter_codigo">
                                <label id="label_code" for="search_code">Código</label>
                            </div>
                        </div>
                        <div class="col s6">
                            <div class="input-field">
                                <i class="material-icons prefix">font_download</i>
                                <input id="search_name" type="text" class="validate" ng-model="filter_nombre">
                                <label id="label_name" for="search_name">Nombre</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s6">
                            <div class="input-field">
                                <i class="material-icons prefix">attach_money</i>
                                <input id="search_amount" type="number" class="validate" ng-model="filter_importe">
                                <label id="label_amount" for="search_amount">Importe</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Checks-->
        <div class="col s12">
            <ul class="collapsible">
                <li class="active">
                    <div class="collapsible-header"><h5>Cheques</h5></div>
                    <div class="collapsible-body">
                        <ul class="collapsible">
                            <li ng-repeat="check in checks | filter:filterCheck track by $index">
                                <div class="collapsible-header item row item">
                                    <div class="col s6 left-align">
                                        <b>{{check.codigo}} - {{check.tipo === 0 ? 'Cheque' : 'Pagarés'}}</b>
                                    </div>
                                    <div class="col s6 right-align">
                                        <a href="#!">
                                            <i class="material-icons orange-text"
                                               ng-click="editCheck($index)"
                                               onclick="event.stopPropagation();">edit</i>
                                            <i class="material-icons red-text"
                                               ng-click="removeCheck($index)"
                                               onclick="event.stopPropagation();">delete</i>
                                        </a>
                                    </div>
                                </div>
                                <div class="collapsible-body">
                                    <div class="row">
                                        <div class="row">
                                            <div class="col s4">
                                                <b>Codigo:</b> {{check.codigo}}
                                            </div>
                                            <div class="col s4">
                                                <b>Tipo:</b> {{check.tipo === 0 ? 'Cheque' : 'Pagarés'}}
                                            </div>
                                            <div class="col s4">
                                                <b>Importe:</b> {{check.importe}} €
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col s4">
                                                <b>Nombre:</b> {{check.nombre}}
                                            </div>
                                            <div class="col s4">
                                                <b>Fecha:</b> {{check.fecha}}
                                            </div>
                                            <div class="col s4">
                                                <b>Numeración:</b> {{check.numeracion}}
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col s4">
                                                <b>Fecha V.:</b> {{check.fecha_vencimiento}}
                                            </div>
                                            <div class="col s4">
                                                <b>Usado para pagar:</b> {{check.reusado}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
</body>
<script>
    $(document).ready(function () {
        $('.sidenav').sidenav();
        $('#tipo').find('option[value="0"]').prop('selected', true);
        $('#tipo').formSelect();
        $('.collapsible').collapsible();
        $('.datepicker').datepicker({
            firstDay: 1,
            format: 'dd/mm/yyyy',
            i18n: {
                months: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
                monthsShort: ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Set", "Oct", "Nov", "Dic"],
                weekdays: ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"],
                weekdaysShort: ["Dom", "Lun", "Mar", "Mie", "Jue", "Vie", "Sab"],
                weekdaysAbbrev: ["D", "L", "M", "M", "J", "V", "S"]
            }
        });
    });
</script>
</html>
